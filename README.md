# ZTAS
ZTAS是Zero Trust Access Service的缩写，中文全称为**零信任访问服务**。

# 零信任(Zero Trust)

零信任是一种安全模型，基于访问主体身份、网络环境、终端状态等尽可能多的信任要素对所有用户进行持续验证和动态授权。**零信任的中心思想就是不信任内部或外部的任何用户、设备、服务或应用程序，必须通过身份和访问管理过程才能获得最低级别的信任和访问权限**

## 为什么零信任很重要？

* 访问者身份及接入终端的多样化、复杂化打破了网络的边界，传统的访问管控方式过于单一。在用户一次认证后，整个访问过程不再进行用户身份合规性检查，无法实时管控访问过程中的违规和异常行为
* 业务上云后各种数据的集中部署打破了数据的边界，同时放大了静态授权的管控风险，数据滥用风险变大。高低密级数据融合导致权限污染，被动抬高整体安全等级，打破安全和业务体验的平衡
* 资源从分散到云化集中管理，按需部署。由于当前安全管控策略分散、协同水平不高，云端主机一旦受到攻击，攻击将难以快速闭环，很难形成全局防御

## 零信任三要素

* 软件定义边界(Software Define Perimeter)：旨在隐藏IT资产，避免将敏感IT资产直接暴露到Internet上，确保只有受信任的用户/设备才能访问IT资产，实现南北向(用户/客户端设备访问IT资产)的网络访问安全。
* 身份与访问管理(Idendity and Access Management)：旨在建立统一的对IT资产访问的权限体系，确保只有授权的用户/设备才能访问IT资产，并且支持多因素认证(MFA)。
* 微隔离(Micro Segmentation)：确保IT资产(主要是位于数据中心的IT资产)在通信之前，必须先通过身份认证，对特定的IT资产，确保只有授权的IT资产才能访问；实现东西向(IT资产之间)的网络访问安全。

# ZTAS简介

ZTAS是一款由个人开发并维护，采用最新网络技术的零信任网络安全管理平台。该平台旨在帮助企业构建安全、高性能、可靠的全球网络，使得部署在全球的IT设备/服务能以安全的途径彼此访问，防止未经授权的用户或者设备对企业的IT服务进行各种嗅探和攻击，从而保证企业网络的安全。

ZTAS基于定义的访问控制策略，缺省情况下拒绝访问，并在明确授权时向用户提供服务访问权。 与VPN不同，ZTAS解决方案对IT服务的访问默认为拒绝，仅提供用户已明确授权的服务访问权限，作为一种安全策略，ZTAS在缺省情况下，所有用户和设备都被视为不信任，直到他们可以通过身份验证并明确得到授权。

## ZTAS关键概念
* 域(Domain)：在平台里，每个组织机构都有一个域，域之间的网络是完全隔离的。每个域有一个域管理员(Admin)，负责管理当前域的所有零信任访问功能的配置。
* 数据中心：在平台里，数据中心通常是指同一局域网内能互相访问的服务器聚合体。
* Ingress: 入栈流量，指进入设备的网卡的流量。
* Egress: 出栈流量，指离开设备的网卡的流量。
* 安全规则：对Venus设备的Ingress/Egress流量进行零信任保护的指令，包括源地址/端口，目标地址/端口，指纹，以及保护策略(Accept, Drop, 或者ZTP)。
* Venus程序：运行在Linux上的核心程序，用于对目标设备上的IT服务进行零信任保护。
* Venus设备：由运行在Linux上的Venus程序依据目标设备的特征生成设备指纹，并采集目标设备的基本信息(操作系统名称、版本、CPU信息等)，生成Venus设备。
* Mars设备：指域用户在特定的终端设备(包括Windows、Mac、Linux)上登录后，采集终端设备的指纹，以及基本信息后，生成Mars设备，Mars设备是一种多重因素认证机制，确保用户只能在特定的设备上依据安全策略访问组织机构的IT服务。
* EWP：是East/West Protection的缩写，东/西向安全保护，用于保护服务器之间的访问安全，确保只有授权的服务器才能访问对应的IT服务。
* NSP：是North/South Protection的缩写，南/北向安全保护，用于保护Mars设备跟服务器之间的安全，确保只有授权的Mars设备才能访问对应的IT服务。

## ZTAS构成

ZTAS平台由以下系统构成：
* ZTAS-SUN：这是平台的核心，用于管理组织机构的数据中心、IT服务、设备、用户访问权限、零信任策略、DNS等。该系统由本平台提供，用户无需单独部署。
* ZTAS-MERCURY：这是管理端，组织机构通过该系统注册组织机构的域，管理域内的用户、数据中心、数据中心内的Venus设备，IT服务，EWP管理,NSP管理、DNS管理等。
* ZTAS-VENUS：这是运行在Linx上的核心程序，跟ZTAS-SUN保持通信，通过ZTAS-SUN接受管理员的安全规则，并依据安全规则对目标设备上的入栈/出栈流量进行安全保护。注意：目前只对入栈/出栈的TCP流量进行保护，未来会增加UDP流量的保护。
* ZTAS-MARS：这是运行在Windows、Mac、Linux终端上的程序，域用户通过该程序登录域，获取用户在当前Mars设备上的授权IT服务访问列表，建立跟数据中心之间的安全隧道(通过数据中心内Earth服务)，通过安全隧道访问数据中心内的IT服务，对于那些有公网IP的IT服务，则会依据安全规则对TCP会话进行安全加固，确保TCP会话能正常建立。该程序也会在本机的127.0.0.1上建立一个本地的DNS服务，解析当前域的DNS记录。
* ZTAS-EARTH：运行在Linux服务器上的程序，用于跟MARS终端建立安全隧道，并通过安全隧道，依据安全规则访问数据中心内的IT服务。

# ZTAS-MERCURY
这是管理端，组织机构的管理员通过该程序注册组织机构的域，管理域内的用户，数据中心、数据中心内的Venus设备，IT服务，EWP管理,NSP管理、DNS管理等。

支持的操作系统：
* Linux：支持
* Windows: 支持
* Mac: 支持

## 下载和安装

### Linux
到[Linux](https://github.com/kaidunztas/ztas-mercury/tree/main/linux) 目录里下载ZIP包，存放于本地，解压即可。

### Windows
到[Windows](https://github.com/kaidunztas/ztas-mercury/tree/main/windows) 目录里下载ZIP包，存放于本地，解压即可。

### Mac
到[Mac](https://github.com/kaidunztas/ztas-mercury/tree/main/darwin) 目录里下载ZIP包，存放于本地，解压即可。

## 用户手册
[ZTAS-Mercury用户手册](https://github.com/kaidunztas/ztas-mercury#readme)

# ZTAS-VENUS
ZTAS-VENUS（简称VENUS）是运行在Linux设备上的程序，用于对运行在Linux设备上的IT服务会话或者经过Linux设备的IT服务会话进行零信任保护。

具体使用方式，请参见[ZTAS-VENUS使用手册](venus/README.md)

#ZTAS-MARS
ZTAS-MARS(简称MARS)是运行在Linux、Windows、Mac终端上的程序，让域用户通过该程序和数据中心之间的安全隧道，访问数据中心内的授权过的IT服务。

具体使用方式，请参见[ZTAS-MARS使用手册](mars/README.md)

#ZTAS-EARTH
ZTAS-EARTH(以下简称EARTH)是运行在Linux服务器上的程序，用于跟MARS终端建立安全隧道，并通过安全隧道，依据安全规则访问数据中心内的IT服务。

具体使用方式，请参见[ZTAS-EARTH使用手册](earth/README.md)
